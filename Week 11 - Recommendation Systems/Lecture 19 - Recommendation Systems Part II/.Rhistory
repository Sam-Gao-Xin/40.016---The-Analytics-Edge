setwd("/Users/james/OneDrive - Singapore University of Technology and Design/SUTD/Year 3/Term 6/40.016 - The Analytics Edge/Week 11 - Recommendation Systems/Lecture 19 - Recommendation Systems Part II")
ratings <- read.csv("ratings(1).csv")
str(ratings)
head(ratings)
length(unique(ratings$userId))
length(unique(ratings$movieId))
sort(unique(ratings$rating))
length(unique(ratings$userId))
length(unique(ratings$movieId))
sort(unique(ratings$rating))
max(table(ratings$userId))
min(table(ratings$userId))
table(ratings$userId)
max(table(ratings$userId))
min(table(ratings$userId))
which(table(ratings$userId)==2268)
which(table(ratings$userId)==20)
#which(table(ratings$userId)==20)
which(table(ratings$userId)==2268)
which(table(ratings$userId)==20)
which(table(ratings$userId)==2268)
which(table(ratings$userId)==20)
max(table(ratings$movieId))
min(table(ratings$movieId))
Data <- matrix(nrow=length(unique(ratings$userId)), ncol=length(unique(ratings$movieId)))
rownames(Data) <- unique(ratings$userId)
colnames(Data) <- unique(ratings$movieId)
for(i in 1:nrow(ratings))
{Data[as.character(ratings$userId[i]),as.character(ratings$movieId[i])] <- ratings$rating[i]}
# dim(Data)
hist(as.vector(Data))
Datanorm <- Data - rowMeans(Data,na.rm=TRUE)
Datanorm <- Data - rowMeans(Data,na.rm=TRUE)
hist(as.vector(Datanorm))
set.seed(1)
spl1 <- sample(1:nrow(Data), 0.98*nrow(Data)) # spl1 has 98% of the rows
spl1c <- setdiff(1:nrow(Data),spl1)           # spl1c has the remaining ones
set.seed(2)
spl2 <- sample(1:ncol(Data), 0.8*ncol(Data))  # spl2 has 80% of the columns
spl2c <- setdiff(1:ncol(Data),spl2)           # spl2c has the rest
rm(list=ls()) # Clear the environment
setwd("/Users/james/OneDrive - Singapore University of Technology and Design/SUTD/Year 3/Term 6/40.016 - The Analytics Edge/Week 11 - Recommendation Systems/Lecture 19 - Recommendation Systems Part II")
ratings <- read.csv("ratings(1).csv")
str(ratings)
head(ratings)
length(unique(ratings$userId))
length(unique(ratings$movieId))
sort(unique(ratings$rating))
rm(list=ls()) # Clear the environment
setwd("/Users/james/OneDrive - Singapore University of Technology and Design/SUTD/Year 3/Term 6/40.016 - The Analytics Edge/Week 11 - Recommendation Systems/Lecture 19 - Recommendation Systems Part II")
ratings <- read.csv("ratings(1).csv")
str(ratings)
head(ratings)
length(unique(ratings$userId))
length(unique(ratings$movieId))
sort(unique(ratings$rating))
max(table(ratings$userId))
min(table(ratings$userId))
which(table(ratings$userId)==2268)
which(table(ratings$userId)==20)
max(table(ratings$movieId))
min(table(ratings$movieId))
Data <- matrix(nrow=length(unique(ratings$userId)), ncol=length(unique(ratings$movieId)))
rownames(Data) <- unique(ratings$userId)
colnames(Data) <- unique(ratings$movieId)
for(i in 1:nrow(ratings))
{Data[as.character(ratings$userId[i]),as.character(ratings$movieId[i])] <- ratings$rating[i]}
# dim(Data)
hist(as.vector(Data))
Datanorm <- Data - rowMeans(Data,na.rm=TRUE)
Datanorm <- Data - rowMeans(Data,na.rm=TRUE)
hist(as.vector(Datanorm))
set.seed(1)
spl1 <- sample(1:nrow(Data), 0.98*nrow(Data)) # spl1 has 98% of the rows
spl1c <- setdiff(1:nrow(Data),spl1)           # spl1c has the remaining ones
set.seed(2)
spl2 <- sample(1:ncol(Data), 0.8*ncol(Data))  # spl2 has 80% of the columns
spl2c <- setdiff(1:ncol(Data),spl2)           # spl2c has the rest
length(spl1)
length(spl1c)
length(spl2)
length(spl2c)
Base1    <- matrix(nrow=length(spl1c), ncol=length(spl2c))
Base2    <- matrix(nrow=length(spl1c), ncol=length(spl2c))
UserPred <- matrix(nrow=length(spl1c), ncol=length(spl2c))
for(i in 1:length(spl1c))
{Base1[i,] <- colMeans(Data[spl1,spl2c], na.rm=TRUE)}
